import{h as l}from"./QItem.87f7eb07.js";import{H as d,Q as c}from"./HeaderActions.f25c2299.js";import{D as m}from"./DetailsComponent.aca30dcb.js";import{_ as p,d as u,a as o,o as h,c as b,w as a,e as i,f as t}from"./index.650196fd.js";import"./BtnAction.b0c7cc86.js";import"./QInput.d6ff27b1.js";import"./QSpinnerPie.7f041fe1.js";import"./QChip.f7831cda.js";const f=u({name:"EquipmentsPage",components:{HeaderActions:d,DetailsComponent:m},data(){return{loading:!1,fields:{createdAt:"",left:[{key:"categoryName",label:"Categor\xEDa del equipo",model:""},{key:"equipmentBrand",label:"Marca",model:""},{key:"equipmentModel",label:"Modelo",model:""},{key:"location",label:"Ubicaci\xF3n",model:""},{key:"manufacturingYear",label:"A\xF1o del equipo",model:""},{key:"provider",label:"Proveedor",model:""},{key:"price",label:"Costo",affix:"$",model:""},{key:"nextMaintenanceDate",label:"Pr\xF3ximo mantenimiento",type:"formatedDate",model:""},{key:"warrantyDate",label:"Fecha de garant\xEDa",type:"formatedDate",model:""},{key:"acquisitionDate",label:"Fecha de adquisici\xF3n",type:"formatedDate",model:""},{key:"isReported",label:"Reportado",model:""},{key:"equipmentStatus",label:"Estatus",type:"status",color:"",model:""}],right:[{key:"serialNumber",label:"No. de serie",model:""},{key:"photo",model:""}],bottom:[{key:"observations",type:"textarea",label:"Observaciones del equipo biom\xE9dico",model:""}]},btnActions:[{show:!0,btnTitle:"Reportar",iconName:"o_report",tooltip:"Ir a editar equipo",to:"add-report",btnWidth:"auto"},{show:!0,btnTitle:"Registrar mantenimiento",iconName:"o_engineering",tooltip:"Relizarle un mantenimiento al equipo",to:"add-maintenance",btnWidth:"auto"},{show:!0,btnTitle:"Editar",iconName:"o_edit",tooltip:"Ir a editar equipo",to:this.getIdToEdit(),btnWidth:"auto"}],btnCloseWindow:{iconName:"exit_to_app",btnBackground:"#FF990020",btnColor:"#FF9900",btnAction:this.goBack}}},methods:{async getEquipment(){this.loading=!0;const e={id:this.$route.params.id,fields:this.fields};(await this.$store.dispatch("equipments/getEquipmentAction",e)).equipmentStatus===!1&&(this.btnActions[0].show=!1,this.btnActions[1].show=!1),this.loading=!1},getIdToEdit(){return`edit-${this.$route.params.id}-equipment`},goBack(){this.$router.go(-1)},checkPermissions(){switch(this.userRole){case 2:this.btnActions[2].show=!1;break;case 3:this.btnActions[1].show=!1,this.btnActions[2].show=!1;break}}},mounted(){this.checkPermissions(),this.getEquipment(),this.$store.commit("reports/MUTATE_REPORT",null)},computed:{userRole:{get(){return this.$store.getters["users/getRoleGetter"]}}}}),g={class:"card-page"},_={class:"main-container-page main-container-page-dark container-form"};function y(e,n,k,q,w,A){const s=o("header-actions"),r=o("details-component");return h(),b(c,{class:"flex flex-center cursor-pointer non-selectable"},{default:a(()=>[i("div",g,[t(s,{titlePage:"Detalles del equipo","btn-actions":e.btnActions,"btn-close-window":e.btnCloseWindow},null,8,["btn-actions","btn-close-window"]),i("div",_,[t(l,{class:"h-97","thumb-style":{right:"6px",borderRadius:"5px",background:"rgba(29, 100, 231, 0.2)",width:"5px",opacity:1}},{default:a(()=>[t(r,{fields:e.fields,loading:e.loading},null,8,["fields","loading"])]),_:1},8,["thumb-style"])])])]),_:1})}var P=p(f,[["render",y],["__scopeId","data-v-508a1128"]]);export{P as default};

import{_ as V,a as z}from"./notification.e1842625.js";import{_ as O,a as P,b as D,c as A,d as L,e as E,f as N,g as Y,h as H,i as R,j as W,k as G,l as J,m as K,n as X,o as Z,p as ee,q as oe,r as se,s as te,t as ae,u as le,v as ne}from"./warning.551030d0.js";import{_ as re}from"./bms.bfdce8d2.js";import{_ as de,a as ie,b as me,c as pe,d as ce,e as _e,f as ue,g as ge}from"./tecnical_support.43e3eec1.js";import{e as M,f as Q,d as fe,_ as be,g as he,i as B}from"./QItem.87f7eb07.js";import{Q as ye}from"./QSpinnerPie.7f041fe1.js";import{d as v,_ as q,o as t,c as r,w as i,f as m,a9 as $,a7 as y,aa as u,ao as I,Q as j,a8 as _,ab as x,a6 as l,e as a,s as ve,a as f,an as b,am as h,al as T}from"./index.650196fd.js";import{Q as qe}from"./QForm.85481701.js";import{Q as ke}from"./use-fullscreen.0a2c208b.js";import{Q as we}from"./QDate.8a7cc956.js";import{d as $e}from"./HeaderActions.f25c2299.js";import{Q as Ie}from"./QInput.d6ff27b1.js";import{S as xe,I as Ue}from"./SelectComponent.2f5249cd.js";import{Q as Ce}from"./QEditor.0b50cedd.js";const Fe=v({name:"AutocompleteComponent",props:{item:{type:Object,required:!0}}});function Me(e,s,g,p,k,w){return t(),r(ke,{"model-value":e.item.model,"fill-input":"","use-input":"",borderless:"",dense:"","hide-hint":"","hide-bottom-space":"","hide-selected":"","bottom-slots":"","stack-label":"",behavior:e.$q.platform.is.ios===!0?"dialog":"menu",name:e.item.key,readonly:e.item.readonly,options:e.item.options,rules:e.item.rules?e.item.rules:[],prefix:e.item.prefix?e.item.prefix:"",onFilter:e.item.itemFilter,onInputValue:e.item.setModel},{"no-option":i(()=>[m(Q,null,{default:i(()=>[m(M,{class:"text-grey"},{default:i(()=>[$(" No se encontr\xF3 una coincidencia, se agregar\xE1 como nueva opci\xF3n ")]),_:1})]),_:1})]),option:i(d=>[m(Q,I(d.itemProps,{dense:""}),{default:i(()=>[m(M,null,{default:i(()=>[m(fe,{class:y(["options-select",d.selected?"primary":"text-grey"])},{default:i(()=>[$(u(d.label),1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1040)]),append:i(()=>[e.item.readonly?(t(),r(j,{key:0,name:"lock",size:"xs"})):_("",!0)]),_:1},8,["model-value","behavior","name","readonly","options","rules","prefix","onFilter","onInputValue"])}var Qe=q(Fe,[["render",Me]]);const Be=v({name:"DateInputWithPicker",props:{item:{type:Object,required:!0},model:{type:[String,null],required:!0}},data(){return{localModel:this.model}},methods:{updateParent(){this.$emit("update:model",this.localModel)}},watch:{localModel(e,s){e!==s&&this.updateParent()},model(e,s){e!==s&&(this.localModel=e)}}});function Te(e,s,g,p,k,w){return t(),r(Ie,{modelValue:e.localModel,"onUpdate:modelValue":s[1]||(s[1]=d=>e.localModel=d),name:e.item.key,borderless:"",dense:"","hide-hint":"","hide-bottom-space":"","bottom-slots":"",readonly:"","stack-label":"",rules:e.item.rules,onClick:s[2]||(s[2]=d=>e.item.readonly?()=>{}:e.$refs.proxy.show())},{append:i(()=>[e.item.readonly?(t(),r(j,{key:1,name:"lock",size:"xs"})):(t(),r(x,{key:0,icon:"event",size:"xs",color:"primary",unelevated:"",round:""},{default:i(()=>[m($e,{ref:"proxy",cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[m(we,{modelValue:e.localModel,"onUpdate:modelValue":s[0]||(s[0]=d=>e.localModel=d),mask:"YYYY-MM-DD",name:e.item.key,"navigation-min-year-month":"1900/01","navigation-max-year-month":e.item.restrictedMaxDate?e.item.restrictedMaxDate:"2100/12"},null,8,["modelValue","name","navigation-max-year-month"])]),_:1},512)]),_:1}))]),_:1},8,["modelValue","name","rules"])}var je=q(Be,[["render",Te]]);const Se=v({name:"EditorComponent",props:{item:{type:Object,required:!0},model:{type:String,required:!0},toolbar:{type:Array,required:!1,default:()=>[[{label:"Font Size",icon:"mdi-format-size",fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5"]},"bold","italic","strike","underline"],["unordered","ordered"]]}},data(){return{localModel:this.model}},methods:{updateParent(){this.$emit("update:model",this.localModel)}},watch:{localModel(e,s){e!==s&&this.updateParent()},model(e,s){e!==s&&(this.localModel=e)}}}),Ve={key:0,class:"q-pa-sm border-line border-rounded"},ze=["innerHTML"];function Oe(e,s,g,p,k,w){return e.item.readonly?(t(),l("div",Ve,[a("div",{class:"col-12 q-pr-md form__label-area",innerHTML:e.item.model},null,8,ze)])):(t(),r(Ce,{key:1,modelValue:e.localModel,"onUpdate:modelValue":s[0]||(s[0]=d=>e.localModel=d),name:e.item.key,placeholder:"Escribe aqu\xED...",toolbar:e.toolbar},null,8,["modelValue","name","placeholder","toolbar"]))}var Pe=q(Se,[["render",Oe]]);const De=v({name:"FormComponent",components:{AutocompleteComponent:Qe,DateComponent:je,SelectComponent:xe,EditorComponent:Pe,InputComponent:Ue},props:{type:{type:String,default:"",required:!1},model:{type:String,required:!1,default:""},fields:{type:Object,required:!1,default:()=>{}},loading:{type:Boolean,required:!1,default:!1}},setup(){return{getImageUrl:s=>{try{return new URL({"../../assets/quasar-logo-vertical.svg":V,"../../assets/gif/notification.gif":z,"../../assets/png/about.png":O,"../../assets/png/account 2.png":P,"../../assets/png/account.png":D,"../../assets/png/admin.png":A,"../../assets/png/bms.png":re,"../../assets/png/calendar.png":L,"../../assets/png/color.png":E,"../../assets/png/dark.png":N,"../../assets/png/excel.png":Y,"../../assets/png/hospital.png":H,"../../assets/png/laptop.png":R,"../../assets/png/light.png":W,"../../assets/png/maintenances.png":G,"../../assets/png/messages.png":J,"../../assets/png/monitor.png":K,"../../assets/png/notification.png":X,"../../assets/png/reports.png":Z,"../../assets/png/role.png":ee,"../../assets/png/success.png":oe,"../../assets/png/tecnical.png":se,"../../assets/png/user.png":te,"../../assets/png/users 2.png":ae,"../../assets/png/users.png":le,"../../assets/png/warning.png":ne,"../../assets/svg/add_img.svg":de,"../../assets/svg/card_svg.svg":be,"../../assets/svg/colours.svg":ie,"../../assets/svg/logo_platform.svg":me,"../../assets/svg/main_account.svg":pe,"../../assets/svg/notifications.svg":ce,"../../assets/svg/notifications_.svg":_e,"../../assets/svg/roles.svg":ue,"../../assets/svg/table_svg.svg":he,"../../assets/svg/tecnical_support.svg":ge}[`../../assets/${s}`],self.location).href}catch{}},basicToolBar:[["unordered","ordered"]]}},data(){return{previousLength:0,localTextfields:this.fields,pdfObject:{name:"",file:{}},ImageBase64:null}},watch:{localTextfields:{handler(e){this.$emit("update:fields",e),this.$refs.myForm&&this.$refs.myForm.resetValidation()},deep:!0},fields:{handler(e){this.ImageBase64||e.right.forEach(s=>{s.key==="photo"&&(this.ImageBase64=s.model)})},deep:!0}},methods:{shouldShow(e){return e.shouldShow!==!1},validate(){return this.$refs.myForm.validate().then(e=>e&&this.validateTextAreas())},validateTextAreas(){let e=[...this.fields.textareas||[],...this.fields.bottom||[]];for(let s of e)if(s&&s.required&&!s.model)return ve(this.$q,{title:"Hay campos requeridos sin llenar",msg:`El campo de ${s.label} es requerido`}),!1;return!0},uploadFile(e){const s=e.target.files[0],g=this.localTextfields.right.find(p=>p.key==="photo");g&&(g.model=s);try{const p=new FileReader;p.onloadend=()=>{this.ImageBase64=p.result},p.readAsDataURL(s),s!==void 0&&(this.pdfObject.name=s.name,this.pdfObject.file=s)}catch{}},clearFileInput(e){try{e.value=null,this.pdfObject.name="",this.pdfObject.file={},this.ImageBase64=null}catch{}e.value&&e.parentNode.replaceChild(e.cloneNode(!0),e)}}}),Ae={key:0,class:"w-100 absolute-full flex flex-center"},Le={class:"q-ma-md q-ma-sm-xl q-pa-xl text-center no-info border-rounded"},Ee=a("div",{class:"text-primary q-ma-lg"},"Cargando ...",-1),Ne={class:"row q-pa-sm",style:{"max-width":"1200px"}},Ye={class:"w-100 q-pa-sm q-mb-sm"},He={class:"q-pa-sm border-rounded border-line form__label-area bg-accent"},Re=a("strong",{class:"q-mr-sm"},"Fecha de creaci\xF3n: ",-1),We={class:"col-12 col-lg-5 col-sm-6 q-pb-xs"},Ge={class:"row"},Je={key:0,class:"col-12 q-pb-xs"},Ke={key:0,class:"row items-center q-px-sm q-py-xs w-100"},Xe={class:"col q-pr-md form__item-label text-weight-medium"},Ze={class:"col-12 q-py-xs"},eo={class:"full-width"},oo={key:0,class:"row w-100 q-px-sm q-pb-sm"},so={key:0,class:"col-12 col-md-12 col-lg-5 q-pr-md q-pt-sm form__item-label text-weight-medium"},to={class:"row"},ao={class:"col-12"},lo={class:"q-ma-sm form__item-label text-weight-medium"},no={class:"col-12 col-sm q-py-sm"},ro={key:0,class:"row justify-end items-center q-px-sm q-py-xs"},io={class:"q-pr-md form__item-label text-weight-medium"},mo={class:"form__item-model form__item-chip border-rounded"},po={key:1,class:"q-px-sm row justify-center items-top h-100 w-100",style:{height:"85%"}},co={class:"form__item-label text-weight-medium text-center text-underline q-mt-sm w-100 q-mb-auto"},_o={key:0,class:"col-12 q-px-sm"},uo={class:"q-my-sm form__item-label text-weight-medium"},go=a("div",{class:"col-12 text-center"},[a("div",{class:"q-mt-sm form__item-label text-weight-medium text-primary"}," Todos los campos con * son obligatorios ")],-1);function fo(e,s,g,p,k,w){const d=f("select-component"),U=f("autocomplete-component"),C=f("input-component"),S=f("date-component"),F=f("editor-component");return e.loading?(t(),l("div",Ae,[a("div",Le,[m(ye,{color:"primary",class:"q-mt-lg",size:"4em"}),Ee])])):(t(),r(qe,{key:1,ref:"myForm"},{default:i(()=>[a("div",Ne,[a("div",Ye,[a("div",He,[Re,$(" "+u(e.fields.createdAt),1)])]),a("div",We,[a("div",Ge,[e.localTextfields.top.length>0?(t(),l("div",Je,[(t(!0),l(b,null,h(e.localTextfields.top,(o,c)=>(t(),l("div",{key:c},[e.shouldShow(o)?(t(),l("div",Ke,[a("div",Xe,u(o.label),1),o.type==="select"?(t(),r(d,{key:0,class:"col-6 form__input-12 bg-accent",model:o.model,"onUpdate:model":n=>o.model=n,item:o},null,8,["model","onUpdate:model","item"])):o.type==="autocomplete"?(t(),r(U,{key:1,class:"col-6 form__input-12 bg-accent",item:o},null,8,["item"])):(t(),r(C,{key:2,class:"col-6 form__input-12 bg-accent",model:o.model,"onUpdate:model":n=>o.model=n,item:o},null,8,["model","onUpdate:model","item"]))])):_("",!0)]))),128))])):_("",!0),a("div",Ze,[(t(!0),l(b,null,h(e.localTextfields.left,(o,c)=>(t(),l("div",{key:c,class:"row"},[a("div",eo,[e.shouldShow(o)?(t(),l("div",oo,[o.label?(t(),l("div",so,u(o.label),1)):_("",!0),o.type==="select"?(t(),r(d,{key:1,class:"form__input bg-accent col-12 col-sm",model:o.model,"onUpdate:model":n=>o.model=n,item:o},null,8,["model","onUpdate:model","item"])):o.type==="autocomplete"?(t(),r(U,{key:2,class:"form__input bg-accent col-12 col-sm",item:o},null,8,["item"])):o.type==="date"?(t(),r(S,{key:3,class:"col-12 col-sm form__input bg-accent",model:o.model,"onUpdate:model":n=>o.model=n,item:o},null,8,["model","onUpdate:model","item"])):o.type==="button"?(t(),r(x,{key:4,class:"form__button border-rounded bg-blue-7 col-12 q-my-lg text-weight-medium q-pa-sm","no-caps":"",label:o.model,onClick:o.btnAction},null,8,["label","onClick"])):(t(),r(C,{key:5,class:"form__input bg-accent col-12 col-sm",model:o.model,"onUpdate:model":n=>o.model=n,item:o},null,8,["model","onUpdate:model","item"]))])):_("",!0)])]))),128)),a("div",to,[(t(!0),l(b,null,h(e.localTextfields.textareas,(o,c)=>(t(),l("div",{class:"col q-pa-sm",key:c},[a("div",ao,[a("div",lo,u(o.label),1),m(F,{model:o.model,"onUpdate:model":n=>o.model=n,item:o,toolbar:o.toolbar?o.toolbar:e.basicToolBar,class:"form__textarea bg-accent border-rounded"},null,8,["model","onUpdate:model","item","toolbar"])])]))),128))])])])]),a("div",no,[(t(!0),l(b,null,h(e.localTextfields.right,(o,c)=>(t(),l("div",I(o,{key:c,class:"col-12"}),[!o.imageInput&&!o.readImage?(t(),l("div",ro,[a("div",io,u(o.label),1),a("div",mo,u(o.model),1)])):_("",!0),o.imageInput?(t(),l("div",po,[m(x,{unelevated:"",class:y(["btn-background-dark q-mt-md btn-background-color q-pa-md",e.ImageBase64&&e.type==="user"?"btn-background":"border-rounded"]),style:T(e.type==="user"?"width: 205px; height: 205px; border-radius: 50%":"width: 100%; max-width: 270px; min-height: 240px; min-width: 240px;"),onClick:s[0]||(s[0]=n=>e.pdfObject.name?e.clearFileInput(e.$refs.fileUpload):e.$refs.fileUpload.click())},{default:i(()=>[m(B,{class:y([e.ImageBase64&&e.type==="user"?"form__image64":"form__image",e.ImageBase64&&e.type!=="user"?"form__image64-equipment border-rounded":"form__image"]),"no-spinner":"",src:e.ImageBase64?e.ImageBase64:e.getImageUrl("svg/add_img.svg")},null,8,["class","src"])]),_:1},8,["class","style"]),a("div",co,[a("span",{onClick:s[1]||(s[1]=n=>e.pdfObject.name?e.clearFileInput(e.$refs.fileUpload):e.$refs.fileUpload.click())}," Carga una imagen desde tus archivos (opcional) ")])])):_("",!0),o.readImage&&o.model?(t(),l("div",{key:2,class:"row q-px-sm q-py-xs q-mx-auto q-mt-lg",style:T(e.type==="user"?"width: 254px !important; height: 254px; border-radius: 50%":"width: 100%; max-width: 250px;")},[m(B,{class:y([[e.type==="user"?"form__image64":"form__image64-equipment border-rounded"],"q-mx-auto q-my-auto"]),"no-spinner":"",src:o.model},null,8,["class","src"])],4)):_("",!0)],16))),128))]),(t(!0),l(b,null,h(e.localTextfields.bottom,(o,c)=>(t(),l("div",I(o,{key:c,class:"col-12"}),[o.model!=null?(t(),l("div",_o,[a("div",uo,u(o.label),1),m(F,{model:o.model,"onUpdate:model":n=>o.model=n,item:o,class:"form__textarea bg-accent border-rounded"},null,8,["model","onUpdate:model","item"])])):_("",!0)],16))),128)),go,a("input",{ref:"fileUpload",type:"file",accept:"image/*,.jpg, .jpeg, .png",style:{display:"none"},onChange:s[2]||(s[2]=o=>e.uploadFile(o))},null,544)])]),_:1},512))}var Qo=q(De,[["render",fo]]);export{Qo as F};

import{Q as Ot}from"./QSpinnerPie.7f041fe1.js";import{L,x as s,F as n,T as At,v as E,H as jt,I as z,ay as Lt,Q as ge,ai as be,k as I,q as W,aL as Ft,l as Qt,E as Dt,D as Mt,t as Nt,X as ze,az as et,aA as tt,aE as K,B as Ee,aM as Ve,aN as He,aO as It,C as at,aP as zt,z as Y,ab as ve,d as lt,_ as nt,a5 as Et,o as N,c as Z,w as $,a9 as ot,aa as rt,a8 as $e,a as Ht,f as D,a6 as xe,am as Ue,an as Ge,a7 as Be,al as Ut,ao as Gt}from"./index.650196fd.js";import{u as ee,n as Kt,b as te,p as Wt,h as Xt,Q as Jt}from"./BtnAction.b0c7cc86.js";import{Q as Yt}from"./QPagination.5f7621cf.js";import{j as Zt,k as ea}from"./QItem.87f7eb07.js";import{u as ta,a as aa,c as it,b as la,d as na,e as oa,Q as ra}from"./use-fullscreen.0a2c208b.js";import{b as ia,c as sa}from"./QInput.d6ff27b1.js";var ua=L({name:"QInnerLoading",props:{...ee,...Kt,showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:l}){const t=E(),v=te(e,t.proxy.$q),{transitionProps:r,transitionStyle:f}=Wt(e),u=s(()=>"q-inner-loading absolute-full column flex-center"+(v.value===!0?" q-inner-loading--dark":"")),i=s(()=>"q-inner-loading__label"+(e.labelClass!==void 0?` ${e.labelClass}`:""));function d(){const o=[n(jt,{size:e.size,color:e.color})];return e.label!==void 0&&o.push(n("div",{class:i.value,style:e.labelStyle},[e.label])),o}function b(){return e.showing===!0?n("div",{class:u.value,style:f.value},l.default!==void 0?l.default():d()):null}return()=>n(At,r.value,b)}}),st=L({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:l,emit:t}){const v=E(),{proxy:{$q:r}}=v,f=u=>{t("click",u)};return()=>{if(e.props===void 0)return n("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:f},z(l.default));let u,i;const d=v.vnode.key;if(d){if(u=e.props.colsMap[d],u===void 0)return}else u=e.props.col;if(u.sortable===!0){const o=u.align==="right"?"unshift":"push";i=Lt(l.default,[]),i[o](n(ge,{class:u.__iconClass,name:r.iconSet.table.arrowUp}))}else i=z(l.default);const b={class:u.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:u.headerStyle,onClick:o=>{u.sortable===!0&&e.props.sort(u),f(o)}};return n("th",b,i)}}}),ca=L({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:l}){const t=s(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>n("tr",{class:t.value},z(l.default))}}),Te=L({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:l}){const t=E(),v=s(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return n("td",{class:v.value},z(l.default));const r=t.vnode.key,f=(e.props.colsMap!==void 0?e.props.colsMap[r]:null)||e.props.col;if(f===void 0)return;const{row:u}=e.props;return n("td",{class:v.value+f.__tdClass(u),style:f.__tdStyle(u)},z(l.default))}}});const da=["top","middle","bottom"];var Ke=L({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>da.includes(e)}},setup(e,{slots:l}){const t=s(()=>e.align!==void 0?{verticalAlign:e.align}:null),v=s(()=>{const r=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(r!==void 0?` text-${r}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>n("div",{class:v.value,style:t.value,role:"status","aria-label":e.label},be(l.default,e.label!==void 0?[e.label]:[]))}});const va=["horizontal","vertical","cell","none"];var fa=L({name:"QMarkupTable",props:{...ee,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>va.includes(e)}},setup(e,{slots:l}){const t=E(),v=te(e,t.proxy.$q),r=s(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(v.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>n("div",{class:r.value},[n("table",{class:"q-table"},z(l.default))])}});function ut(e,l){return n("div",e,[n("table",{class:"q-table"},l)])}const ga={list:Zt,table:fa},ba=["list","table","__qtable"];var ma=L({name:"QVirtualScroll",props:{...ta,type:{type:String,default:"list",validator:e=>ba.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:l,attrs:t}){let v;const r=I(null),f=s(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:u,localResetVirtualScroll:i,padVirtualScroll:d,onVirtualScrollEvt:b}=aa({virtualScrollLength:f,getVirtualScrollTarget:w,getVirtualScrollEl:k}),o=s(()=>{if(f.value===0)return[];const R=(O,p)=>({index:u.value.from+p,item:O});return e.itemsFn===void 0?e.items.slice(u.value.from,u.value.to).map(R):e.itemsFn(u.value.from,u.value.to-u.value.from).map(R)}),h=s(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),q=s(()=>e.scrollTarget!==void 0?{}:{tabindex:0});W(f,()=>{i()}),W(()=>e.scrollTarget,()=>{y(),S()});function k(){return r.value.$el||r.value}function w(){return v}function S(){v=Xt(k(),e.scrollTarget),v.addEventListener("scroll",b,ze.passive)}function y(){v!==void 0&&(v.removeEventListener("scroll",b,ze.passive),v=void 0)}function T(){let R=d(e.type==="list"?"div":"tbody",o.value.map(l.default));return l.before!==void 0&&(R=l.before().concat(R)),be(l.after,R)}return Ft(()=>{i()}),Qt(()=>{S()}),Dt(()=>{S()}),Mt(()=>{y()}),Nt(()=>{y()}),()=>{if(l.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?ut({ref:r,class:"q-table__middle "+h.value},T()):n(ga[e.type],{...t,ref:r,class:[t.class,h.value],...q.value},T)}}});const ya={xs:2,sm:4,md:6,lg:10,xl:14};function We(e,l,t){return{transform:l===!0?`translateX(${t.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var ha=L({name:"QLinearProgress",props:{...ee,...et,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:l}){const{proxy:t}=E(),v=te(e,t.$q),r=tt(e,ya),f=s(()=>e.indeterminate===!0||e.query===!0),u=s(()=>e.reverse!==e.query),i=s(()=>({...r.value!==null?r.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),d=s(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),b=s(()=>We(e.buffer!==void 0?e.buffer:1,u.value,t.$q)),o=s(()=>`with${e.instantFeedback===!0?"out":""}-transition`),h=s(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${o.value} q-linear-progress__track--${v.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),q=s(()=>We(f.value===!0?1:e.value,u.value,t.$q)),k=s(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${o.value} q-linear-progress__model--${f.value===!0?"in":""}determinate`),w=s(()=>({width:`${e.value*100}%`})),S=s(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${o.value}`);return()=>{const y=[n("div",{class:h.value,style:b.value}),n("div",{class:k.value,style:q.value})];return e.stripe===!0&&f.value===!1&&y.push(n("div",{class:S.value,style:w.value})),n("div",{class:d.value,style:i.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},be(l.default,y))}}});function Sa(e,l){const t=I(null),v=s(()=>e.disable===!0?null:n("span",{ref:t,class:"no-outline",tabindex:-1}));function r(f){const u=l.value;f!==void 0&&f.type.indexOf("key")===0?u!==null&&document.activeElement!==u&&u.contains(document.activeElement)===!0&&u.focus():t.value!==null&&(f===void 0||u!==null&&u.contains(f.target)===!0)&&t.value.focus()}return{refocusTargetEl:v,refocusTarget:r}}var _a={xs:30,sm:35,md:40,lg:50,xl:60};const wa={...ee,...et,...ia,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},qa=["update:modelValue"];function ka(e,l){const{props:t,slots:v,emit:r,proxy:f}=E(),{$q:u}=f,i=te(t,u),d=I(null),{refocusTargetEl:b,refocusTarget:o}=Sa(t,d),h=tt(t,_a),q=s(()=>t.val!==void 0&&Array.isArray(t.modelValue)),k=s(()=>{const C=K(t.val);return q.value===!0?t.modelValue.findIndex(j=>K(j)===C):-1}),w=s(()=>q.value===!0?k.value>-1:K(t.modelValue)===K(t.trueValue)),S=s(()=>q.value===!0?k.value===-1:K(t.modelValue)===K(t.falseValue)),y=s(()=>w.value===!1&&S.value===!1),T=s(()=>t.disable===!0?-1:t.tabindex||0),R=s(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(t.disable===!0?" disabled":"")+(i.value===!0?` q-${e}--dark`:"")+(t.dense===!0?` q-${e}--dense`:"")+(t.leftLabel===!0?" reverse":"")),O=s(()=>{const C=w.value===!0?"truthy":S.value===!0?"falsy":"indet",j=t.color!==void 0&&(t.keepColor===!0||(e==="toggle"?w.value===!0:S.value!==!0))?` text-${t.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${C}${j}`}),p=s(()=>{const C={type:"checkbox"};return t.name!==void 0&&Object.assign(C,{".checked":w.value,"^checked":w.value===!0?"checked":void 0,name:t.name,value:q.value===!0?t.val:t.trueValue}),C}),B=sa(p),H=s(()=>{const C={tabindex:T.value,role:e==="toggle"?"switch":"checkbox","aria-label":t.label,"aria-checked":y.value===!0?"mixed":w.value===!0?"true":"false"};return t.disable===!0&&(C["aria-disabled"]="true"),C});function X(C){C!==void 0&&(Ee(C),o(C)),t.disable!==!0&&r("update:modelValue",J(),C)}function J(){if(q.value===!0){if(w.value===!0){const C=t.modelValue.slice();return C.splice(k.value,1),C}return t.modelValue.concat([t.val])}if(w.value===!0){if(t.toggleOrder!=="ft"||t.toggleIndeterminate===!1)return t.falseValue}else if(S.value===!0){if(t.toggleOrder==="ft"||t.toggleIndeterminate===!1)return t.trueValue}else return t.toggleOrder!=="ft"?t.trueValue:t.falseValue;return t.indeterminateValue}function ae(C){(C.keyCode===13||C.keyCode===32)&&Ee(C)}function A(C){(C.keyCode===13||C.keyCode===32)&&X(C)}const M=l(w,y);return Object.assign(f,{toggle:X}),()=>{const C=M();t.disable!==!0&&B(C,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const j=[n("div",{class:O.value,style:h.value,"aria-hidden":"true"},C)];b.value!==null&&j.push(b.value);const le=t.label!==void 0?be(v.default,[t.label]):z(v.default);return le!==void 0&&j.push(n("div",{class:`q-${e}__label q-anchor--skip`},le)),n("div",{ref:d,class:R.value,...H.value,onClick:X,onKeydown:ae,onKeyup:A},j)}}const Ca=n("div",{key:"svg",class:"q-checkbox__bg absolute"},[n("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[n("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),n("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var Re=L({name:"QCheckbox",props:wa,emits:qa,setup(e){function l(t,v){const r=s(()=>(t.value===!0?e.checkedIcon:v.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>r.value!==null?[n("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[n(ge,{class:"q-checkbox__icon",name:r.value})])]:[Ca]}return ka("checkbox",l)}});function Pa(e,l){return new Date(e)-new Date(l)}const pa={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function xa(e,l,t,v){const r=s(()=>{const{sortBy:i}=l.value;return i&&t.value.find(d=>d.name===i)||null}),f=s(()=>e.sortMethod!==void 0?e.sortMethod:(i,d,b)=>{const o=t.value.find(k=>k.name===d);if(o===void 0||o.field===void 0)return i;const h=b===!0?-1:1,q=typeof o.field=="function"?k=>o.field(k):k=>k[o.field];return i.sort((k,w)=>{let S=q(k),y=q(w);return o.rawSort!==void 0?o.rawSort(S,y,k,w)*h:S==null?-1*h:y==null?1*h:o.sort!==void 0?o.sort(S,y,k,w)*h:Ve(S)===!0&&Ve(y)===!0?(S-y)*h:He(S)===!0&&He(y)===!0?Pa(S,y)*h:typeof S=="boolean"&&typeof y=="boolean"?(S-y)*h:([S,y]=[S,y].map(T=>(T+"").toLocaleString().toLowerCase()),S<y?-1*h:S===y?0:h)})});function u(i){let d=e.columnSortOrder;if(It(i)===!0)i.sortOrder&&(d=i.sortOrder),i=i.name;else{const h=t.value.find(q=>q.name===i);h!==void 0&&h.sortOrder&&(d=h.sortOrder)}let{sortBy:b,descending:o}=l.value;b!==i?(b=i,o=d==="da"):e.binaryStateSort===!0?o=!o:o===!0?d==="ad"?b=null:o=!1:d==="ad"?o=!0:b=null,v({sortBy:b,descending:o,page:1})}return{columnToSort:r,computedSortMethod:f,sort:u}}const Ba={filter:[String,Object],filterMethod:Function};function Ta(e,l){const t=s(()=>e.filterMethod!==void 0?e.filterMethod:(v,r,f,u)=>{const i=r?r.toLowerCase():"";return v.filter(d=>f.some(b=>{const o=u(b,d)+"";return(o==="undefined"||o==="null"?"":o.toLowerCase()).indexOf(i)!==-1}))});return W(()=>e.filter,()=>{at(()=>{l({page:1},!0)})},{deep:!0}),{computedFilterMethod:t}}function Ra(e,l){for(const t in l)if(l[t]!==e[t])return!1;return!0}function Xe(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const Va={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function $a(e,l){const{props:t,emit:v}=e,r=I(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:t.rowsPerPageOptions.length!==0?t.rowsPerPageOptions[0]:5},t.pagination)),f=s(()=>{const o=t["onUpdate:pagination"]!==void 0?{...r.value,...t.pagination}:r.value;return Xe(o)}),u=s(()=>f.value.rowsNumber!==void 0);function i(o){d({pagination:o,filter:t.filter})}function d(o={}){at(()=>{v("request",{pagination:o.pagination||f.value,filter:o.filter||t.filter,getCellValue:l})})}function b(o,h){const q=Xe({...f.value,...o});if(Ra(f.value,q)===!0){u.value===!0&&h===!0&&i(q);return}if(u.value===!0){i(q);return}t.pagination!==void 0&&t["onUpdate:pagination"]!==void 0?v("update:pagination",q):r.value=q}return{innerPagination:r,computedPagination:f,isServerSide:u,requestServerInteraction:d,setPagination:b}}function Oa(e,l,t,v,r,f){const{props:u,emit:i,proxy:{$q:d}}=e,b=s(()=>v.value===!0?t.value.rowsNumber||0:f.value),o=s(()=>{const{page:p,rowsPerPage:B}=t.value;return(p-1)*B}),h=s(()=>{const{page:p,rowsPerPage:B}=t.value;return p*B}),q=s(()=>t.value.page===1),k=s(()=>t.value.rowsPerPage===0?1:Math.max(1,Math.ceil(b.value/t.value.rowsPerPage))),w=s(()=>h.value===0?!0:t.value.page>=k.value),S=s(()=>(u.rowsPerPageOptions.includes(l.value.rowsPerPage)?u.rowsPerPageOptions:[l.value.rowsPerPage].concat(u.rowsPerPageOptions)).map(B=>({label:B===0?d.lang.table.allRows:""+B,value:B})));W(k,(p,B)=>{if(p===B)return;const H=t.value.page;p&&!H?r({page:1}):p<H&&r({page:p})});function y(){r({page:1})}function T(){const{page:p}=t.value;p>1&&r({page:p-1})}function R(){const{page:p,rowsPerPage:B}=t.value;h.value>0&&p*B<b.value&&r({page:p+1})}function O(){r({page:k.value})}return u["onUpdate:pagination"]!==void 0&&i("update:pagination",{...t.value}),{firstRowIndex:o,lastRowIndex:h,isFirstPage:q,isLastPage:w,pagesNumber:k,computedRowsPerPageOptions:S,computedRowsNumber:b,firstPage:y,prevPage:T,nextPage:R,lastPage:O}}const Aa={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},ja=["update:selected","selection"];function La(e,l,t,v){const r=s(()=>{const w={};return e.selected.map(v.value).forEach(S=>{w[S]=!0}),w}),f=s(()=>e.selection!=="none"),u=s(()=>e.selection==="single"),i=s(()=>e.selection==="multiple"),d=s(()=>t.value.length!==0&&t.value.every(w=>r.value[v.value(w)]===!0)),b=s(()=>d.value!==!0&&t.value.some(w=>r.value[v.value(w)]===!0)),o=s(()=>e.selected.length);function h(w){return r.value[w]===!0}function q(){l("update:selected",[])}function k(w,S,y,T){l("selection",{rows:S,added:y,keys:w,evt:T});const R=u.value===!0?y===!0?S:[]:y===!0?e.selected.concat(S):e.selected.filter(O=>w.includes(v.value(O))===!1);l("update:selected",R)}return{hasSelectionMode:f,singleSelection:u,multipleSelection:i,allRowsSelected:d,someRowsSelected:b,rowsSelectedNumber:o,isRowSelected:h,clearSelection:q,updateSelection:k}}function Je(e){return Array.isArray(e)?e.slice():[]}const Fa={expanded:Array},Qa=["update:expanded"];function Da(e,l){const t=I(Je(e.expanded));W(()=>e.expanded,u=>{t.value=Je(u)});function v(u){return t.value.includes(u)}function r(u){e.expanded!==void 0?l("update:expanded",u):t.value=u}function f(u,i){const d=t.value.slice(),b=d.indexOf(u);i===!0?b===-1&&(d.push(u),r(d)):b!==-1&&(d.splice(b,1),r(d))}return{isRowExpanded:v,setExpanded:r,updateExpanded:f}}const Ma={visibleColumns:Array};function Na(e,l,t){const v=s(()=>{if(e.columns!==void 0)return e.columns;const i=e.rows[0];return i!==void 0?Object.keys(i).map(d=>({name:d,label:d.toUpperCase(),field:d,align:Ve(i[d])?"right":"left",sortable:!0})):[]}),r=s(()=>{const{sortBy:i,descending:d}=l.value;return(e.visibleColumns!==void 0?v.value.filter(o=>o.required===!0||e.visibleColumns.includes(o.name)===!0):v.value).map(o=>{const h=o.align||"right",q=`text-${h}`;return{...o,align:h,__iconClass:`q-table__sort-icon q-table__sort-icon--${h}`,__thClass:q+(o.headerClasses!==void 0?" "+o.headerClasses:"")+(o.sortable===!0?" sortable":"")+(o.name===i?` sorted ${d===!0?"sort-desc":""}`:""),__tdStyle:o.style!==void 0?typeof o.style!="function"?()=>o.style:o.style:()=>null,__tdClass:o.classes!==void 0?typeof o.classes!="function"?()=>q+" "+o.classes:k=>q+" "+o.classes(k):()=>q}})}),f=s(()=>{const i={};return r.value.forEach(d=>{i[d.name]=d}),i}),u=s(()=>e.tableColspan!==void 0?e.tableColspan:r.value.length+(t.value===!0?1:0));return{colList:v,computedCols:r,computedColsMap:f,computedColspan:u}}const fe="q-table__bottom row items-center",ct={};it.forEach(e=>{ct[e]={}});var Ia=L({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...ct,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...ee,...la,...Ma,...Ba,...Va,...Fa,...Aa,...pa},emits:["request","virtualScroll",...na,...Qa,...ja],setup(e,{slots:l,emit:t}){const v=E(),{proxy:{$q:r}}=v,f=te(e,r),{inFullscreen:u,toggleFullscreen:i}=oa(),d=s(()=>typeof e.rowKey=="function"?e.rowKey:a=>a[e.rowKey]),b=I(null),o=I(null),h=s(()=>e.grid!==!0&&e.virtualScroll===!0),q=s(()=>" q-table__card"+(f.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),k=s(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":q.value)+(f.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(u.value===!0?" fullscreen scroll":"")),w=s(()=>k.value+(e.loading===!0?" q-table--loading":""));W(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+k.value,()=>{h.value===!0&&o.value!==null&&o.value.reset()});const{innerPagination:S,computedPagination:y,isServerSide:T,requestServerInteraction:R,setPagination:O}=$a(v,U),{computedFilterMethod:p}=Ta(e,O),{isRowExpanded:B,setExpanded:H,updateExpanded:X}=Da(e,t),J=s(()=>{let a=e.rows;if(T.value===!0||a.length===0)return a;const{sortBy:c,descending:g}=y.value;return e.filter&&(a=p.value(a,e.filter,F.value,U)),ft.value!==null&&(a=gt.value(e.rows===a?a.slice():a,c,g)),a}),ae=s(()=>J.value.length),A=s(()=>{let a=J.value;if(T.value===!0)return a;const{rowsPerPage:c}=y.value;return c!==0&&(oe.value===0&&e.rows!==a?a.length>re.value&&(a=a.slice(0,re.value)):a=a.slice(oe.value,re.value)),a}),{hasSelectionMode:M,singleSelection:C,multipleSelection:j,allRowsSelected:le,someRowsSelected:Ae,rowsSelectedNumber:me,isRowSelected:ye,clearSelection:dt,updateSelection:ne}=La(e,t,A,d),{colList:vt,computedCols:F,computedColsMap:je,computedColspan:Le}=Na(e,y,M),{columnToSort:ft,computedSortMethod:gt,sort:he}=xa(e,y,vt,O),{firstRowIndex:oe,lastRowIndex:re,isFirstPage:Se,isLastPage:_e,pagesNumber:ie,computedRowsPerPageOptions:bt,computedRowsNumber:se,firstPage:we,prevPage:qe,nextPage:ke,lastPage:Ce}=Oa(v,S,y,T,O,ae),mt=s(()=>A.value.length===0),yt=s(()=>{const a={};return it.forEach(c=>{a[c]=e[c]}),a.virtualScrollItemSize===void 0&&(a.virtualScrollItemSize=e.dense===!0?28:48),a});function ht(){h.value===!0&&o.value.reset()}function St(){if(e.grid===!0)return Vt();const a=e.hideHeader!==!0?Ne:null;if(h.value===!0){const g=l["top-row"],m=l["bottom-row"],_={default:x=>Qe(x.item,l.body,x.index)};if(g!==void 0){const x=n("tbody",g({cols:F.value}));_.before=a===null?()=>x:()=>[a()].concat(x)}else a!==null&&(_.before=a);return m!==void 0&&(_.after=()=>n("tbody",m({cols:F.value}))),n(ma,{ref:o,class:e.tableClass,style:e.tableStyle,...yt.value,scrollTarget:e.virtualScrollTarget,items:A.value,type:"__qtable",tableColspan:Le.value,onVirtualScroll:wt},_)}const c=[qt()];return a!==null&&c.unshift(a()),ut({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},c)}function _t(a,c){if(o.value!==null){o.value.scrollTo(a,c);return}a=parseInt(a,10);const g=b.value.querySelector(`tbody tr:nth-of-type(${a+1})`);if(g!==null){const m=b.value.querySelector(".q-table__middle.scroll"),_=g.offsetTop-e.virtualScrollStickySizeStart,x=_<m.scrollTop?"decrease":"increase";m.scrollTop=_,t("virtualScroll",{index:a,from:0,to:S.value.rowsPerPage-1,direction:x})}}function wt(a){t("virtualScroll",a)}function Fe(){return[n(ha,{class:"q-table__linear-progress",color:e.color,dark:f.value,indeterminate:!0,trackColor:"transparent"})]}function Qe(a,c,g){const m=d.value(a),_=ye(m);if(c!==void 0)return c(De({key:m,row:a,pageIndex:g,__trClass:_?"selected":""}));const x=l["body-cell"],P=F.value.map(V=>{const ce=l[`body-cell-${V.name}`],de=ce!==void 0?ce:x;return de!==void 0?de(kt({key:m,row:a,pageIndex:g,col:V})):n("td",{class:V.__tdClass(a),style:V.__tdStyle(a)},U(V,a))});if(M.value===!0){const V=l["body-selection"],ce=V!==void 0?V(Ct({key:m,row:a,pageIndex:g})):[n(Re,{modelValue:_,color:e.color,dark:f.value,dense:e.dense,"onUpdate:modelValue":(de,$t)=>{ne([m],[a],de,$t)}})];P.unshift(n("td",{class:"q-table--col-auto-width"},ce))}const Q={key:m,class:{selected:_}};return e.onRowClick!==void 0&&(Q.class["cursor-pointer"]=!0,Q.onClick=V=>{t("RowClick",V,a,g)}),e.onRowDblclick!==void 0&&(Q.class["cursor-pointer"]=!0,Q.onDblclick=V=>{t("RowDblclick",V,a,g)}),e.onRowContextmenu!==void 0&&(Q.class["cursor-pointer"]=!0,Q.onContextmenu=V=>{t("RowContextmenu",V,a,g)}),n("tr",Q,P)}function qt(){const a=l.body,c=l["top-row"],g=l["bottom-row"];let m=A.value.map((_,x)=>Qe(_,a,x));return c!==void 0&&(m=c({cols:F.value}).concat(m)),g!==void 0&&(m=m.concat(g({cols:F.value}))),n("tbody",m)}function De(a){return Pe(a),a.cols=a.cols.map(c=>Y({...c},"value",()=>U(c,a.row))),a}function kt(a){return Pe(a),Y(a,"value",()=>U(a.col,a.row)),a}function Ct(a){return Pe(a),a}function Pe(a){Object.assign(a,{cols:F.value,colsMap:je.value,sort:he,rowIndex:oe.value+a.pageIndex,color:e.color,dark:f.value,dense:e.dense}),M.value===!0&&Y(a,"selected",()=>ye(a.key),(c,g)=>{ne([a.key],[a.row],c,g)}),Y(a,"expand",()=>B(a.key),c=>{X(a.key,c)})}function U(a,c){const g=typeof a.field=="function"?a.field(c):c[a.field];return a.format!==void 0?a.format(g,c):g}const G=s(()=>({pagination:y.value,pagesNumber:ie.value,isFirstPage:Se.value,isLastPage:_e.value,firstPage:we,prevPage:qe,nextPage:ke,lastPage:Ce,inFullscreen:u.value,toggleFullscreen:i}));function Pt(){const a=l.top,c=l["top-left"],g=l["top-right"],m=l["top-selection"],_=M.value===!0&&m!==void 0&&me.value>0,x="q-table__top relative-position row items-center";if(a!==void 0)return n("div",{class:x},[a(G.value)]);let P;if(_===!0?P=m(G.value).slice():(P=[],c!==void 0?P.push(n("div",{class:"q-table__control"},[c(G.value)])):e.title&&P.push(n("div",{class:"q-table__control"},[n("div",{class:["q-table__title",e.titleClass]},e.title)]))),g!==void 0&&(P.push(n("div",{class:"q-table__separator col"})),P.push(n("div",{class:"q-table__control"},[g(G.value)]))),P.length!==0)return n("div",{class:x},P)}const Me=s(()=>Ae.value===!0?null:le.value);function Ne(){const a=pt();return e.loading===!0&&l.loading===void 0&&a.push(n("tr",{class:"q-table__progress"},[n("th",{class:"relative-position",colspan:Le.value},Fe())])),n("thead",a)}function pt(){const a=l.header,c=l["header-cell"];if(a!==void 0)return a(pe({header:!0})).slice();const g=F.value.map(m=>{const _=l[`header-cell-${m.name}`],x=_!==void 0?_:c,P=pe({col:m});return x!==void 0?x(P):n(st,{key:m.name,props:P},()=>m.label)});if(C.value===!0&&e.grid!==!0)g.unshift(n("th",{class:"q-table--col-auto-width"}," "));else if(j.value===!0){const m=l["header-selection"],_=m!==void 0?m(pe({})):[n(Re,{color:e.color,modelValue:Me.value,dark:f.value,dense:e.dense,"onUpdate:modelValue":Ie})];g.unshift(n("th",{class:"q-table--col-auto-width"},_))}return[n("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},g)]}function pe(a){return Object.assign(a,{cols:F.value,sort:he,colsMap:je.value,color:e.color,dark:f.value,dense:e.dense}),j.value===!0&&Y(a,"selected",()=>Me.value,Ie),a}function Ie(a){Ae.value===!0&&(a=!1),ne(A.value.map(d.value),A.value,a)}const ue=s(()=>{const a=[e.iconFirstPage||r.iconSet.table.firstPage,e.iconPrevPage||r.iconSet.table.prevPage,e.iconNextPage||r.iconSet.table.nextPage,e.iconLastPage||r.iconSet.table.lastPage];return r.lang.rtl===!0?a.reverse():a});function xt(){if(e.hideBottom===!0)return;if(mt.value===!0){if(e.hideNoData===!0)return;const g=e.loading===!0?e.loadingLabel||r.lang.table.loading:e.filter?e.noResultsLabel||r.lang.table.noResults:e.noDataLabel||r.lang.table.noData,m=l["no-data"],_=m!==void 0?[m({message:g,icon:r.iconSet.table.warning,filter:e.filter})]:[n(ge,{class:"q-table__bottom-nodata-icon",name:r.iconSet.table.warning}),g];return n("div",{class:fe+" q-table__bottom--nodata"},_)}const a=l.bottom;if(a!==void 0)return n("div",{class:fe},[a(G.value)]);const c=e.hideSelectedBanner!==!0&&M.value===!0&&me.value>0?[n("div",{class:"q-table__control"},[n("div",[(e.selectedRowsLabel||r.lang.table.selectedRecords)(me.value)])])]:[];if(e.hidePagination!==!0)return n("div",{class:fe+" justify-end"},Tt(c));if(c.length!==0)return n("div",{class:fe},c)}function Bt(a){O({page:1,rowsPerPage:a.value})}function Tt(a){let c;const{rowsPerPage:g}=y.value,m=e.paginationLabel||r.lang.table.pagination,_=l.pagination,x=e.rowsPerPageOptions.length>1;if(a.push(n("div",{class:"q-table__separator col"})),x===!0&&a.push(n("div",{class:"q-table__control"},[n("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||r.lang.table.recordsPerPage]),n(ra,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:g,options:bt.value,displayValue:g===0?r.lang.table.allRows:g,dark:f.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Bt})])),_!==void 0)c=_(G.value);else if(c=[n("span",g!==0?{class:"q-table__bottom-item"}:{},[g?m(oe.value+1,Math.min(re.value,se.value),se.value):m(1,ae.value,se.value)])],g!==0&&ie.value>1){const P={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(P.size="sm"),ie.value>2&&c.push(n(ve,{key:"pgFirst",...P,icon:ue.value[0],disable:Se.value,onClick:we})),c.push(n(ve,{key:"pgPrev",...P,icon:ue.value[1],disable:Se.value,onClick:qe}),n(ve,{key:"pgNext",...P,icon:ue.value[2],disable:_e.value,onClick:ke})),ie.value>2&&c.push(n(ve,{key:"pgLast",...P,icon:ue.value[3],disable:_e.value,onClick:Ce}))}return a.push(n("div",{class:"q-table__control"},c)),a}function Rt(){const a=e.gridHeader===!0?[n("table",{class:"q-table"},[Ne()])]:e.loading===!0&&l.loading===void 0?Fe():void 0;return n("div",{class:"q-table__middle"},a)}function Vt(){const a=l.item!==void 0?l.item:c=>{const g=c.cols.map(_=>n("div",{class:"q-table__grid-item-row"},[n("div",{class:"q-table__grid-item-title"},[_.label]),n("div",{class:"q-table__grid-item-value"},[_.value])]));if(M.value===!0){const _=l["body-selection"],x=_!==void 0?_(c):[n(Re,{modelValue:c.selected,color:e.color,dark:f.value,dense:e.dense,"onUpdate:modelValue":(P,Q)=>{ne([c.key],[c.row],P,Q)}})];g.unshift(n("div",{class:"q-table__grid-item-row"},x),n(ea,{dark:f.value}))}const m={class:["q-table__grid-item-card"+q.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(m.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(m.onClick=_=>{t("RowClick",_,c.row,c.pageIndex)}),e.onRowDblclick!==void 0&&(m.onDblclick=_=>{t("RowDblclick",_,c.row,c.pageIndex)})),n("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(c.selected===!0?" q-table__grid-item--selected":"")},[n("div",m,g)])};return n("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},A.value.map((c,g)=>a(De({key:d.value(c),row:c,pageIndex:g}))))}return Object.assign(v.proxy,{requestServerInteraction:R,setPagination:O,firstPage:we,prevPage:qe,nextPage:ke,lastPage:Ce,isRowSelected:ye,clearSelection:dt,isRowExpanded:B,setExpanded:H,sort:he,resetVirtualScroll:ht,scrollTo:_t,getCellValue:U}),zt(v.proxy,{filteredSortedRows:()=>J.value,computedRows:()=>A.value,computedRowsNumber:()=>se.value}),()=>{const a=[Pt()],c={ref:b,class:w.value};return e.grid===!0?a.push(Rt()):Object.assign(c,{class:[c.class,e.cardClass],style:e.cardStyle}),a.push(St(),xt()),e.loading===!0&&l.loading!==void 0&&a.push(l.loading()),n("div",c,a)}}});const Oe=lt({name:"iconAction",props:{icnColor:{type:String,required:!1,default:"#1e65e8"},icnUnelevated:{type:Boolean,default:!0,required:!1},hidden:{type:Boolean,default:!1,required:!1},icnAction:{type:String,default:()=>"",required:!1},icnSize:{type:String,default:"md",required:!1},icnName:{type:String,required:!1,default:"o_data_saver_on"},tooltip:{type:String,required:!1,default:null},row:{type:Object,required:!1,default:()=>({})}},methods:{shouldShow(){var e,l;return!(this.hidden&&((l=(e=this==null?void 0:this.row)==null?void 0:e.row)==null?void 0:l.reportStatus)!="Pendiente")}}}),Ye=()=>{Et(e=>({"8e39c520":e.icnColor}))},Ze=Oe.setup;Oe.setup=Ze?(e,l)=>(Ye(),Ze(e,l)):Ye;const za=Oe;function Ea(e,l,t,v,r,f){return e.shouldShow()?(N(),Z(ge,{key:0,class:"icn-style q-px-xs",name:e.icnName,unelevated:e.icnUnelevated,size:e.icnSize},{default:$(()=>[e.tooltip?(N(),Z(Jt,{key:0,delay:500,"transition-show":"scale","transition-hide":"scale",class:"tooltip-container border-rounded"},{default:$(()=>[ot(rt(e.tooltip),1)]),_:1})):$e("",!0)]),_:1},8,["name","unelevated","size"])):$e("",!0)}var Ha=nt(za,[["render",Ea],["__scopeId","data-v-68b5c7bd"]]);const Ua=lt({name:"GeneralTable",components:{IconAction:Ha},props:{rows:{type:Array,required:!1,default:()=>[]},columns:{type:Array,required:!1,default:()=>[]},actionsTable:{type:Array,required:!1,default:()=>[]},rowSelected:{type:Object,required:!1,default:()=>({})},showPagination:{type:Boolean,required:!1,default:()=>!0},loading:{type:Boolean,required:!1,default:()=>!1},height:{type:[String],required:!1,default:()=>"80vh"},paginationProp:{type:Object,required:!1,default:null},rowKey:{type:String,required:!1,default:"id"}},setup(){return{pagination:I({descending:!1,rowsPerPage:12,totalPages:1,page:1,sortBy:"equipment"}),totalPages:1}},methods:{rowClicked(e,l){this.$emit("update:rowSelected",{id:e.row.id,key:e.key,action:l})},checkColor(e){let l;switch(e){case"Resuelto":l="badge-attended";break;case"Reportado":l="badge-pending";break;case"Cancelado":l="badge-cancelled";break;case"Sin reportes":l="badge-positive";break;case"Correctivo":l="badge-pending";break;case"Preventivo":l="badge-positive";break;case"Pendiente":l="badge-pending";break;case"Alta":l="badge-high";break;case"Media":l="badge-medium";break;case"Baja":l="badge-low";break;case!0:l="badge-positive";break;case!1:l="badge-cancelled";break;default:l="badge-attended"}return l},changePagination(e){this.$emit("change-pagination",e)}},watch:{paginationProp:{handler(e){this.pagination.totalPages=e==null?void 0:e.totalPages,this.pagination.rowsNumber=e==null?void 0:e.rowsNumber,this.pagination.page=e==null?void 0:e.page},deep:!0,immediate:!0}}}),Ga={key:0,class:"row justify-center"};function Ka(e,l,t,v,r,f){const u=Ht("icon-action");return N(),Z(Ia,{style:Ut(`height: ${e.height}`),"row-key":e.rowKey,rows:e.rows,columns:e.columns,"rows-per-page-options":[-1],"hide-pagination":!e.showPagination,loading:e.loading,class:Be([{sticky:!e.loading},"table-style font-style my-sticky-header-table q-mt-none bg-white border-rounded"])},{loading:$(()=>[D(ua,{showing:"",color:"primary"},{default:$(()=>[D(Ot,{color:"primary",class:"q-mt-lg",size:"4em"})]),_:1})]),header:$(i=>[D(ca,{props:i},{default:$(()=>[(N(!0),xe(Ge,null,Ue(i.cols,d=>(N(),Z(st,{key:d.name,props:i,class:"column-style"},{default:$(()=>[ot(rt(d.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),pagination:$(()=>[e.showPagination?(N(),xe("div",Ga,[D(Yt,{modelValue:e.pagination.page,"onUpdate:modelValue":[l[0]||(l[0]=i=>e.pagination.page=i),e.changePagination],dense:"",class:"q-mt-none pagination-style",max:e.pagination.totalPages,size:"md","direction-links":""},null,8,["modelValue","max","onUpdate:modelValue"])])):$e("",!0)]),"body-cell-actions":$(i=>[D(Te,{props:i},{default:$(()=>[(N(!0),xe(Ge,null,Ue(e.actionsTable,(d,b)=>(N(),Z(u,Gt({key:b},d,{row:i,onClick:o=>e.rowClicked(i,d.icnAction)}),null,16,["row","onClick"]))),128))]),_:2},1032,["props"])]),"body-cell-badge":$(i=>[D(Te,{props:i},{default:$(()=>[D(Ke,{class:Be(["justify-center border-rounded",e.checkColor(i.value)]),label:i.value===!0?"Activo":i.value===!1?"Inactivo":i.value},null,8,["class","label"])]),_:2},1032,["props"])]),"body-cell-badge-priority":$(i=>[D(Te,{props:i},{default:$(()=>[D(Ke,{class:Be(["justify-center border-rounded",e.checkColor(i.value)]),label:i.value},null,8,["class","label"])]),_:2},1032,["props"])]),_:1},8,["style","row-key","rows","columns","hide-pagination","loading","class"])}var al=nt(Ua,[["render",Ka],["__scopeId","data-v-6a92d842"]]);export{al as G,Re as Q,qa as a,ka as b,wa as u};
